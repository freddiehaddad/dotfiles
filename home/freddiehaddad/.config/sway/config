# Config for sway
# Read `man 5 sway` for a complete reference.

# Display settings: swaymsg -t get_outputs
output DP-1 resolution 5120x1440 position 0,0 adaptive_sync on

# Nightfox theme: https://github.com/EdenEast/nightfox.nvim
set $bg       #121821
set $fg       #cdcecf
set $black    #393b44
set $red      #c94f6d
set $green    #81b29a
set $yellow   #dbc074
set $blue     #719cd6
set $magenta  #9d79d6
set $cyan     #63cdcf
set $white    #dfdfe0
set $bblack   #575860
set $bred     #d16983
set $bgreen   #8ebaa4
set $byellow  #e0c989
set $bblue    #86abdc
set $bmagenta #baa1e2
set $bcyan    #7ad5d6
set $bwhite   #e4e4e5
set $index16  #f4a261
set $index17  #d67ad2
set $alpha    75

# Default font
set $font Iosevka NF Regular 12

# Window styling
gaps inner 2
default_border pixel 2
font pango:$font

# Mouse cursor
set $cursor_theme default
set $cursor_size 48
seat seat0 xcursor_theme $cursor_theme $cursor_size

# target			title border	title bg	title text	indicator	window border
client.focused			$cyan$alpha	$bg		$fg		$cyan$alpha	$cyan$alpha
client.focused_inactive		$cyan$alpha	$bg		$fg		$cyan$alpha	$cyan$alpha
client.focused_tab_title	$cyan$alpha	$bg		$fg
client.urgent			$red$alpha	$red		$bg		$cyan$alpha	$red$alpha
client.unfocused		$bblack$alpha	$bg		$white		$cyan$alpha	$bblack$alpha
client.placeholder		$cyan$alpha	$bg		$fg		$cyan$alpha	$cyan$alpha

# Background
output * bg "$HOME/.config/sway/wallpaper.jpg" fill

# Application launcher
#set $menu wofi | xargs swaymsg exec --
set $menu wofi

# Terminal
set $term foot

# Key bindings
set $mod Mod4

set $left h
set $down j
set $up k
set $right l

# Move focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# Move focused window
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# Switch workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# Window splitting (reversed to match vim/tmux)
bindsym $mod+Alt+v splith
bindsym $mod+Alt+h splitv

# Switch the current container between different layout styles
#bindsym $mod+s layout stacking
#bindsym $mod+w layout tabbed
#bindsym $mod+e layout toggle split

# Make the current focus fullscreen
bindsym $mod+f fullscreen

# Toggle the current focus between tiling and floating mode
#bindsym $mod+Shift+space floating toggle

# Swap focus between the tiling area and the floating area
#bindsym $mod+space focus mode_toggle

# Move focus to the parent container
#bindsym $mod+a focus parent

# Scratchpad
# Move the currently focused window to the scratchpad
#bindsym $mod+Shift+minus move scratchpad

# Show the next scratchpad window or hide the focused scratchpad window.
# If there are multiple scratchpad windows, this command cycles through them.
#bindsym $mod+minus scratchpad show

# Resizing containers
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Shift+$left resize shrink width 25px
    bindsym Shift+$down resize grow height 25px
    bindsym Shift+$up resize shrink height 25px
    bindsym Shift+$right resize grow width 25px

    # Return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# Status bar
bar {
    swaybar_command waybar
}

# Start a terminal
bindsym $mod+Return exec $term

# Kill focused window
bindsym $mod+Shift+q kill

# Start application launcher
bindsym $mod+d exec $menu

# Drag windows by holding down $mod and left mouse button.
# Resize windows with right mouse button + $mod.
floating_modifier $mod normal

# Reload the configuration file
bindsym $mod+Shift+c reload

# Exit sway
bindsym $mod+Ctrl+e exec swaynag           \
        -t warning                         \
        -m 'What do you want to do?'       \
        -b 'Poweroff' 'systemctl poweroff' \
        -b 'Reboot'   'systemctl reboot'   \
	-b 'Logout'   'swaymsg exit'

# Screen capturing
set $screenshotdir $HOME/documents/pictures/screenshots
set $screenshot grim $screenshotdir/scrn-$(date +"%Y-%m-%d-%H-%M-%S").png
set $screenclip slurp | grim -g - $screenshotdir/scrn-$(date +"%Y-%m-%d-%H-%M-%S").png
bindsym Print exec $screenshot
bindsym Shift+Print exec $screenclip

# Screen locking
set $lockfile $HOME/.cache/lockscreen.png
set $lock grim $lockfile; convert $lockfile -blur 0x4 $lockfile; swaylock --image $lockfile
bindsym $mod+Ctrl+l exec '$lock'

# Idle configuration
exec swayidle \
         timeout 1200 '$lock' \
         timeout 1800 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
         before-sleep '$lock'

# Autostart
exec 1password --silent
exec openrgb --startminimized
exec foot
exec firefox

# Set floating windows
for_window [class="^1Password$"] floating enable; resize set 1000px 800px; move position 4110 0;
for_window [app_id="^pavucontrol$"] floating enable
for_window [class="^steam$"] floating enable
for_window [app_id="^openrgb$"] floating enable
for_window [title="^Library$" app_id="^firefox$"] floating enable
for_window [title="^About Mozilla Firefox$" app_id="^firefox$"] floating enable
for_window [app_id="^firefox$"] resize set width 1280 px
for_window [app_id="^Zoom$"] floating enable

#80: con "Path of Exile" (xwayland, pid: 174528, instance: "steam_app_238960", class: "steam_app_238960", X11 window: 0x4E00001)
for_window [class="^steam_app_238960$"] fullscreen enable

include /etc/sway/config.d/*
